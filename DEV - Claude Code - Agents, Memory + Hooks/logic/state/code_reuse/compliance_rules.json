{
  "version": "1.0.0",
  "last_updated": null,
  "severity_levels": {
    "critical": {
      "description": "Must fix immediately - blocks deployment",
      "auto_fix": false,
      "notification": "immediate",
      "examples": [
        "hardcoded_api_keys",
        "console_log_in_production",
        "global_namespace_pollution"
      ]
    },
    "high": {
      "description": "Should fix before next commit",
      "auto_fix": true,
      "notification": "on_analysis",
      "examples": [
        "duplicate_code_blocks",
        "missing_error_handling",
        "performance_bottlenecks"
      ]
    },
    "medium": {
      "description": "Fix in current session",
      "auto_fix": true,
      "notification": "summary",
      "examples": [
        "code_style_violations",
        "missing_comments",
        "suboptimal_patterns"
      ]
    },
    "low": {
      "description": "Consider fixing when convenient",
      "auto_fix": true,
      "notification": "report",
      "examples": [
        "minor_optimizations",
        "naming_conventions",
        "file_organization"
      ]
    }
  },
  "threshold_configurations": {
    "duplication": {
      "min_lines": 10,
      "similarity_threshold": 0.85,
      "ignore_whitespace": true,
      "ignore_comments": true,
      "semantic_analysis": true
    },
    "complexity": {
      "max_cyclomatic": 10,
      "max_cognitive": 15,
      "max_nesting": 4,
      "max_parameters": 5,
      "max_file_lines": 500
    },
    "performance": {
      "max_dom_queries_per_function": 3,
      "require_debounce_ms": 300,
      "require_throttle_ms": 100,
      "max_event_listeners": 10
    },
    "security": {
      "forbidden_patterns": [
        "eval\\(",
        "innerHTML\\s*=",
        "document\\.write",
        "Function\\("
      ],
      "require_sanitization": true,
      "max_external_dependencies": 20
    }
  },
  "allowed_exceptions": {
    "global": {
      "files": [
        ".claude/*",
        "node_modules/*",
        "*.min.js",
        "*.bundle.js"
      ],
      "patterns": [
        "third_party_code",
        "generated_code",
        "legacy_code_marked"
      ]
    },
    "rule_specific": {
      "console_log": {
        "allowed_in": ["development", "debug"],
        "with_flag": "DEBUG_MODE"
      },
      "global_vars": {
        "allowed": ["ANOBEL_CONFIG", "WEBFLOW_ENV"],
        "namespace_required": true
      },
      "file_size": {
        "allowed_large": ["vendor/*", "dist/*"],
        "with_justification": true
      }
    }
  },
  "custom_rules": {
    "webflow_specific": {
      "respect_cms_bindings": {
        "severity": "critical",
        "description": "Never modify Webflow CMS-bound elements",
        "pattern": "\\[data-w-id\\]",
        "action": "warn"
      },
      "use_data_attributes": {
        "severity": "high",
        "description": "Use data attributes for JS hooks, not classes",
        "pattern": "querySelector.*\\.js-",
        "action": "suggest_fix"
      },
      "rem_units_only": {
        "severity": "medium",
        "description": "Use rem units instead of pixels",
        "pattern": "\\d+px",
        "action": "auto_fix",
        "exceptions": ["border", "outline"]
      }
    },
    "project_specific": {
      "namespace_requirement": {
        "severity": "high",
        "description": "All code must be namespaced under ANOBEL",
        "pattern": "^(?!.*ANOBEL).*=.*function",
        "action": "auto_fix"
      },
      "module_pattern": {
        "severity": "medium",
        "description": "Use module pattern for organization",
        "check": "structure",
        "action": "suggest"
      },
      "dependency_injection": {
        "severity": "low",
        "description": "Prefer dependency injection over direct imports",
        "check": "imports",
        "action": "report"
      }
    },
    "code_quality": {
      "dry_principle": {
        "severity": "high",
        "description": "Don't Repeat Yourself - consolidate duplicate code",
        "threshold": 3,
        "action": "consolidate"
      },
      "single_responsibility": {
        "severity": "medium",
        "description": "Functions should do one thing well",
        "max_lines": 50,
        "action": "suggest_split"
      },
      "descriptive_names": {
        "severity": "low",
        "description": "Use clear, descriptive names",
        "min_length": 3,
        "action": "suggest"
      }
    }
  },
  "enforcement_modes": {
    "development": {
      "auto_fix": true,
      "block_on_critical": false,
      "suggestions_enabled": true,
      "learning_mode": true
    },
    "staging": {
      "auto_fix": true,
      "block_on_critical": true,
      "suggestions_enabled": true,
      "learning_mode": false
    },
    "production": {
      "auto_fix": false,
      "block_on_critical": true,
      "suggestions_enabled": false,
      "learning_mode": false
    }
  },
  "reporting": {
    "formats": ["json", "markdown", "html"],
    "include_metrics": true,
    "include_suggestions": true,
    "group_by": "severity",
    "output_location": ".claude/reports/code_reuse/"
  }
}